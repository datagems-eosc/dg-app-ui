#!/bin/sh

echo "ğŸ” Running pre-commit checks..."
echo ""

echo "ğŸ“‹ Step 1/2: Linting files with Biome..."
npm run lint:biome:check
LINT_EXIT_CODE=$?

if [ $LINT_EXIT_CODE -ne 0 ]; then
  echo ""
  echo "âŒ Linting failed. Please fix the errors above."
  exit 1
fi

echo "âœ… Linting passed"
echo ""

echo "ğŸ§ª Step 2/2: Running tests..."
npm test
TEST_EXIT_CODE=$?

if [ $TEST_EXIT_CODE -ne 0 ]; then
  echo ""
  echo "âŒ Tests failed. Please fix the errors above."
  exit 1
fi

echo "âœ… Tests passed"
echo ""

echo "âœ¨ All checks passed! Proceeding with commit..."
echo ""

